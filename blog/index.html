<!DOCTYPE HTML>
<html>
<!--
  #    #  ######  #       #       ######
  #    #  #       #       #       #    #
  ######  ####    #       #       #    #
  #    #  #       #       #       #    #
  #    #  ######  ######  ######  ######

  Why are you looking at my source code?
  There is nothing interesting here.
  Stop looking, it makes me feel naked.

  Anyways, here's a poem:

    I will forever fly
    In outer space
    It's the only way

    Into the abyss I will fall
    My blood will stain
    And water will end my thirst
  
    Life is truth and you can't deny
    It hurts and it cries
    Life can beat you to the ground

    You look for the end
    In outer space
    It's the only way
-->

<head>
  <title>David Servin - Blog</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <meta name="robots" content="index,follow">
  <meta name="googlebot" content="index,follow">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@davidservn">
  <meta name="twitter:creator" content="@davidservn">
  <meta property="og:title" content="David Servin - Blog">
  <meta property="og:image:alt" content="David Servin - Blog">
  <meta name="description" content="Hi, I'm David Servin, this is my blog, stay awhile and listen.">
  <meta property="og:description" content="Hi, I'm David Servin, this is my blog, stay awhile and listen.">
  <meta property="og:url" content="https://davidservn.com/blog">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://davidservn.com/assets/images/bg.png">
  <meta property="og:image:width" content="2449">
  <meta property="og:image:height" content="1632">
  <!-- icons -->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon/favicon-16x16.png">
  <link rel="manifest" href="/assets/images/favicon/site.webmanifest">
  <link rel="mask-icon" href="/assets/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="/assets/images/favicon/favicon.ico">
  <meta name="msapplication-TileColor" content="#00aba9" />
  <meta name="msapplication-config" content="/assets/images/favicon/browserconfig.xml" />
  <meta name="theme-color" content="#ffffff" />
  <!-- styles -->
  <link rel="stylesheet" href="/assets/css/uikit/uikit.min.css" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
    integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/font.css">
  <link rel="stylesheet" href="/assets/css/size.css">
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/blog.css">
</head>

<body>
  <div class="uk-section uk-light uk-padding-remove-bottom">
    <div class="uk-container uk-section-secondary uk-light uk-padding-medium-top uk-padding-medium-bottom">
      <h1 class="uk-heading-line uk-text-center header-title"><span>I think sometimes</span></h1>
      <div>
        <ul class="nav-list">
          <li class="uk-text-center nav-link"><a href="/blog"><span>Home</span></a></li>
          <li class="uk-text-center nav-link"><a href="/"><span>About</span></a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="uk-section uk-padding-remove-top uk-padding-medium-bottom">
    <div class="uk-container uk-section-secondary uk-preserve-color">
      <p class="uk-text-secondary uk-margin-remove">
        Follow me on <a target="_blank" href="https://twitter.com/DavidServn">Twitter</a>
        to be notified about new posts.</p>
      <div id="blog-list"></div>
    </div>
  </div>

  <script src="/assets/js/jquery.min.js"></script>
  <script src="/assets/js/uikit/uikit.min.js"></script>
  <script src="/assets/js/uikit/uikit-icons.min.js"></script>
  <script type="text/javascript">
    $.getJSON("/blog/posts.json", function (json) {
      var itemsPerPage = 5;

      var page = getUrlParameter("p");
      if (!page) { page = 1; }
      else if (page < 1) { page = 1; }

      var start = (page - 1) * itemsPerPage;
      if (start >= json.posts.length) { window.location = "/blog" }

      var end = start + itemsPerPage;
      if (end > json.posts.length) { end = json.posts.length; }

      for (i = start; i < end; i++) {
        const post = json.posts[i];

        let d = new Date(post.date);
        let ye = new Intl.DateTimeFormat('en', { year: 'numeric', timeZone: 'UTC' }).format(d);
        let mo = new Intl.DateTimeFormat('en', { month: 'long', timeZone: 'UTC' }).format(d);
        let da = new Intl.DateTimeFormat('en', { day: '2-digit', timeZone: 'UTC' }).format(d);
        const date = `${mo} ${da}, ${ye}`;

        var content = `
          <article class="uk-article uk-margin-large-top uk-margin-large-bottom">
            <p class="uk-article-meta">${date}</p>
            <h1 class="uk-article-title"><a class="text-accent-color-light" href="${post.slug}.html">${post.title}</a></h1>
            <p class='uk-text-secondary'>${post.summary}</p>
          </article>
          <hr>
          `;

        $('#blog-list').append(content);
      }

      var lastPage = Math.ceil(json.posts.length / itemsPerPage);
      if (lastPage > 1) {
        var pagination = `
          <ul class="uk-pagination uk-flex-center uk-margin-medium-bottom" uk-margin>
            ${page > 1 ? '<li><a href="/blog?p=' + (+page - 1) + '"><span uk-pagination-previous></span></a></li>' : ''}
            ${page > 1 ? '<li><a href="/blog">1</a></li>' : ''}
            ${+page - 3 > 1 ? '<li class="uk-disabled"><span>...</span></li>' : ''}
            ${+page - 2 > 1 ? '<li><a href="/blog?p=' + (+page - 2) + '">' + (+page - 2) + '</a></li>' : ''}
            ${+page - 1 > 1 ? '<li><a href="/blog?p=' + (+page - 1) + '">' + (+page - 1) + '</a></li>' : ''}
            <li class="uk-active"><span>${page}</span></li>
            ${+page + 1 < lastPage ? '<li><a href="/blog?p=' + (+page + 1) + '">' + (+page + 1) + '</a></li>' : ''}
            ${+page + 2 < lastPage ? '<li><a href="/blog?p=' + (+page + 2) + '">' + (+page + 2) + '</a></li>' : ''}
            ${+page + 3 < lastPage ? '<li class="uk-disabled"><span>...</span></li>' : ''}
            ${page < lastPage ? '<li><a href="/blog?p=' + lastPage + '">' + lastPage + '</a></li>' : ''}
            ${page < lastPage ? '<li><a href="/blog?p=' + (+page + 1) + '"><span uk-pagination-next></span></a></li>' : ''}
          </ul>
          `;

        $('#blog-list').append(pagination);
      }
    });

    function getUrlParameter(sParam) {
      var sPageURL = window.location.search.substring(1),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

      for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
          return typeof sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
        }
      }
      return false;
    };
  </script>
</body>

</html>